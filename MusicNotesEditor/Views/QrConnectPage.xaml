<Page x:Class="MusicNotesEditor.Views.QrConnectPage"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Connect Phone"
        Background="#111"
        FontFamily="{StaticResource BeVietnam}">

    <Grid Background="#FF2A2438">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- QR Code Section - Fixed aspect ratio -->
        <Viewbox Grid.Row="0" Stretch="Uniform" Margin="8">
            <Border Background="#1b182b"
                    BorderBrush="#292834"
                    BorderThickness="2"
                    CornerRadius="10"
                    Padding="5"
                    Width="300" Height="300">
                <Image x:Name="QrImg"
                       Width="250"
                       Height="250"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"/>
            </Border>
        </Viewbox>

        <!-- Bottom Section - Scales independently -->
        <Viewbox Grid.Row="1" Stretch="Uniform" Margin="8">
            <Grid Margin="0 10 0 0">
                <StackPanel x:Name="StepsPanel" Visibility="Visible">
                    <TextBlock Text="1. Connect phone and computer to the same Wi-Fi"
                               Foreground="WhiteSmoke"
                               FontSize="14"
                               Margin="0 5"/>
                    <TextBlock Text="2. Open Eurydice app on your phone"
                               Foreground="WhiteSmoke"
                               FontSize="14"
                               Margin="0 5"/>
                    <TextBlock Text="3. Scan the QR code"
                               Foreground="WhiteSmoke"
                               FontSize="14"
                               Margin="0 5"/>
                    <TextBlock Text="4. Send the image using app"
                               Foreground="WhiteSmoke"
                               FontSize="14"
                               Margin="0 5"/>
                </StackPanel>

                <Border x:Name="RequestPanel"
                        Background="#1b182b"
                        BorderBrush="#292834"
                        BorderThickness="2"
                        CornerRadius="10"
                        Padding="10"
                        Visibility="Collapsed">
                    <StackPanel>
                        <TextBlock x:Name="DeviceNameText"
                                   Foreground="White"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Margin="0 5"
                                   Text="Incoming request:"/>

                        <StackPanel Orientation="Horizontal"
                                    HorizontalAlignment="Center"
                                    Margin="0 10 0 0">
                            <Button Content="Approve"
                                    Width="100"
                                    Margin="5"
                                    Click="Approve_Click"/>
                            <Button Content="Deny"
                                    Width="100"
                                    Margin="5"
                                    Click="Deny_Click"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </Grid>
        </Viewbox>
    </Grid>
</Page>